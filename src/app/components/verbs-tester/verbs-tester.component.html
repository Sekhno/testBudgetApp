<nav>
  <button mat-mini-fab aria-label="menu icon" (click)="showStatistics()">
    <mat-icon>trending_up</mat-icon>
  </button>
</nav>

<section>
  @if (currentVerb) {
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title class="ukrainian-word">{{ currentVerb[0] | titlecase }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field class="answer-form-field" appearance="outline">
          <mat-label>{{ currentQuestion }}</mat-label>
          <input matInput type="text" autofocus
                 [(ngModel)]="currentAnswer"
                 (keydown.enter)="checkAnswer()">
          @if (currentAnswer) {
            <button matSuffix mat-icon-button aria-label="Clear" (click)="checkAnswer()">
              <mat-icon>check</mat-icon>
            </button>
          }
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>

        @if (completed()) {
          <table>
            <tr>
              <td class="blue-color">Total answers: {{totalAnswers.length}}</td>
              <td class="purple-color">Right: {{totalRightAnswers}}</td>
              <td class="red-color">Wrong: {{totalWrongAnswers}}</td>
            </tr>
            @for ( item of totalAnswers; track item.verb[0] ) {
              @if (!item.result) {
                <tr>
                  <td class="blue-color">{{ item.result }}</td>
                  <td class="purple-color">{{ item.yourAnswer }}</td>
                  <td class="red-color">{{ item.verb[1][item.question] }}</td>
                </tr>
              }
            }
          </table>
        }
        @else {
          <pre>
            <b class="blue-color"> Total answers: {{totalAnswers.length}}</b>, <b class="purple-color">Right: {{totalRightAnswers}}</b> , <b class="red-color">Wrong: {{totalWrongAnswers}}</b>
          </pre>
        }
      </mat-card-actions>
    </mat-card>
  }
</section>
